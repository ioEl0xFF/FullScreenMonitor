# FullScreenMonitor

指定したアプリケーションが全画面表示された際に、同一モニター上の他ウィンドウを自動最小化するWindows常駐アプリケーションです。

## 機能

- **全画面検出**: 指定したプロセスの全画面表示を自動検出
- **自動最小化**: 同一モニター上の他のウィンドウを自動で最小化
- **システムトレイ常駐**: バックグラウンドで動作し、システムトレイに常駐
- **スタートアップ対応**: Windows起動時に自動でアプリを開始
- **マルチモニター対応**: 複数モニター環境でも適切に動作
- **設定画面**: 監視対象プロセスや監視間隔を簡単に設定可能

## システム要件

- **OS**: Windows 10/11
- **.NET**: .NET 6以降
- **アーキテクチャ**: x64/x86

## ビルド方法

### 必要な環境

- Visual Studio 2022 または Visual Studio Code
- .NET 6 SDK 以降

### ビルド手順

1. リポジトリをクローン
```bash
git clone <repository-url>
cd FullScreenMonitor
```

2. 依存関係の復元
```bash
dotnet restore
```

3. ビルド実行
```bash
dotnet build
```

4. 実行ファイルの生成
```bash
dotnet publish -c Release -r win-x64 --self-contained true
```

## 使用方法

### 初回起動

1. アプリケーションを起動すると、システムトレイにアイコンが表示されます
2. トレイアイコンをダブルクリックまたは右クリック→「設定を開く」で設定画面を開きます

### 設定項目

- **監視対象プロセス**: 全画面監視を行うアプリケーションのプロセス名（例：chrome、firefox、msedge）
- **監視間隔**: 全画面状態のチェック間隔（100ms〜2000ms）
- **スタートアップ登録**: Windows起動時に自動でアプリを開始するかどうか

### 基本操作

- **システムトレイアイコン**: 
  - ダブルクリック: 設定画面を開く
  - 右クリック: コンテキストメニュー（設定を開く、終了）
- **設定画面**: 監視対象の追加・削除、各種設定の変更

## 動作原理

1. **監視**: 指定されたプロセス名のウィンドウを定期的にチェック
2. **全画面検出**: ウィンドウが最大化状態でモニターの作業領域を覆っているか判定
3. **最小化実行**: 同一モニター上の他のウィンドウを最小化
4. **復元**: 全画面状態が解除されたら、最小化されたウィンドウを復元

## 技術仕様

- **言語**: C# (.NET 6以降)
- **UI**: WPF
- **Windows API**: User32.dll (P/Invoke)
- **設定保存**: JSON形式（%AppData%\FullScreenMonitor\settings.json）
- **スタートアップ**: Windowsレジストリ（HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Run）

## 注意事項

- 全画面検出は最大化状態（F11キー）のみ対応
- システムトレイ、デスクトップ、タスクバーなどのシステムウィンドウは最小化対象から除外されます
- アプリケーションは管理者権限は不要ですが、一部のシステムウィンドウへのアクセスが制限される場合があります

## トラブルシューティング

### よくある問題

1. **監視対象が検出されない**
   - プロセス名が正確か確認してください（大文字小文字は区別されません）
   - アプリケーションが実際に全画面表示になっているか確認してください

2. **一部のウィンドウが最小化されない**
   - システムウィンドウや特殊なウィンドウは最小化対象から除外されます
   - ウィンドウが別のモニターにある場合、対象モニター上のみが最小化されます

3. **設定が保存されない**
   - %AppData%\FullScreenMonitor\ フォルダへの書き込み権限があるか確認してください
   - ウイルス対策ソフトがファイルアクセスをブロックしていないか確認してください

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 貢献

バグ報告や機能要望は、GitHubのIssuesページでお知らせください。
プルリクエストも歓迎します。

## 更新履歴

### v1.0.0
- 初回リリース
- 基本的な全画面監視機能
- システムトレイ常駐
- 設定画面
- スタートアップ登録機能
